<div mdbModal #frame="mdbModal" class="modal fade right"
     id="frameModalTop" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-notify modal-info" role="document">
    <!--Content-->
    <div class="modal-content ">
      <!--Header-->
      <div class="modal-header d-flex justify-content-center text-center">
        <mdb-icon fas icon="bell" size="2x" class="animated rotateIn mr-1 deep-purple-text"></mdb-icon>
        <p class="heading">请填写预约信息！</p>
      </div>

      <!--Body-->
      <div class="modal-body">
        <div class="row">
          <!-- 校区 -->
          <div class="col px-0 mr-3">
            <angular2-multiselect [data]="campusList" [(ngModel)]="campusSelected"
                                  [settings]="campusSettings">
              <c-item>
                <ng-template let-item="item">
                  <label style="min-width: 60%;">{{item.itemName}}</label>
                </ng-template>
              </c-item>
            </angular2-multiselect>
          </div>
          <!-- 星期 -->
          <div class="col  px-0">
            <div class="md-form">
              <input type="date" id="formData" class="form-control">
              <label for="formData">开始时间</label>
            </div>
            <!--<angular2-multiselect [data]="dayList" [(ngModel)]="daySelected" [settings]="daySettings">
              <c-item>
                <ng-template let-item="item">
                  <label style="min-width: 60%;">{{item.itemName}}</label>
                </ng-template>
              </c-item>
            </angular2-multiselect>-->
          </div>
        </div>

        <!--
                <div class="row my-4">
                  &lt;!&ndash; 节次 &ndash;&gt;
                  <div class="col px-0 mr-3">
                    <angular2-multiselect [data]="timeList" [(ngModel)]="timeselectedItems"
                                          [settings]="timeSettings">
                      <c-item>
                        <ng-template let-item="item">
                          <label style="min-width: 60%;">{{item.itemName}}</label>
                        </ng-template>
                      </c-item>
                    </angular2-multiselect>
                  </div>
                  &lt;!&ndash; 星期 &ndash;&gt;
                  <div class="col px-0">
                    <angular2-multiselect [data]="weekList" [(ngModel)]="weekselectedItems"
                                          [settings]="weekSettings">
                      <c-item>
                        <ng-template let-item="item">
                          <label style="min-width: 60%;">{{item.itemName}}</label>
                        </ng-template>
                      </c-item>
                    </angular2-multiselect>

                  </div>

                </div>
                <div class="row">
                  &lt;!&ndash; 年级 &ndash;&gt;
                  <div class="col px-0 mr-3">
                    <angular2-multiselect [data]="gradeList" [(ngModel)]="gradeselectedItems"
                                          [settings]="gradeSettings">
                      <c-item class="red">
                        <ng-template let-item="item">
                          <label style="min-width: 60%;">{{item.itemName}}</label>
                        </ng-template>
                      </c-item>
                    </angular2-multiselect>
                  </div>
                  &lt;!&ndash; 班级 &ndash;&gt;
                  <div class="col px-0 ">
                    <angular2-multiselect [data]="classList" [(ngModel)]="classselectedItems"
                                          [settings]="classSettings">

                    </angular2-multiselect>
                  </div>
                </div>
                <div class="row">
                  <div class="col z-depth-1 my-4">
                    <div class="md-form">
                      <mdb-icon fas icon="pencil-alt" class="prefix "></mdb-icon>
                      <textarea type="text" id="form8" class="md-textarea form-control hight1" mdbInput
                                [formControl]="beizhu"></textarea>
                      <label for="form8">备注.....</label>
                    </div>
                  </div>
                </div>
              </div>
        -->

        <!--Footer-->
        <div class="modal-footer justify-content-center">
          <a type="button" mdbBtn color="primary" class="waves-light" (click)="submit()">提交</a>
          <a type="button" mdbBtn color="primary" outline="true" class="waves-light" data-dismiss="modal"
             (click)="frame.hide()">返回</a>
        </div>
      </div>
      <!--/.Content-->
    </div>
  </div>
</div>
<!--Section heading-->
<div class="row animated fadeInRight">
  <!--Grid column-->
  <div class="  col-lg-6 mt-5 mx-auto">
    <mdb-card cascade="true" narrower="true">
      <!--Card image-->
      <div
        class="view view-cascade gradient-card-header blue-gradient narrower z-depth-2 rounded-lg  py-2 m-3 mt-n4 text-center">
        <div class="m-3">
          <h4 class="white-text">请填写预约信息</h4>
        </div>
      </div>
      <!--/Card image-->
      <mdb-card-body>
        <!--Body-->
        <div class="row">
          <!-- 校区 -->
          <div class="col px-20">
            <angular2-multiselect [data]="campusList" [(ngModel)]="campusSelected" (onSelect)="onCampusSelected($event)"
                                  [settings]="campusSettings">
              <c-item>
                <ng-template let-item="item">
                  <label style="min-width: 60%;">{{item.itemName}}</label>
                </ng-template>
              </c-item>
            </angular2-multiselect>
          </div>
          <!-- 实验室 -->
          <div class="col px-20">
            <angular2-multiselect [data]="labList" [(ngModel)]="labSelected" (onSelect)="onLabSelected($event)"
                                  [settings]="labSettings">
              <c-item>
                <ng-template let-item="item">
                  <label style="min-width: 60%;">{{item.itemName}}</label>
                </ng-template>
              </c-item>
            </angular2-multiselect>
          </div>
        </div>

        <div class="row px-20 my-4">
          <!--设备-->
          <div class="col">
            <angular2-multiselect [data]="deviceList" [(ngModel)]="deviceSelected" (onSelect)="onDeviceSelected($event)"
                                  [settings]="deviceSettings">
              <c-item>
                <ng-template let-item="item">
                  <label style="min-width: 60%;">{{item.itemName}}</label>
                </ng-template>
              </c-item>
            </angular2-multiselect>
          </div>
          <!--设备数量-->
          <div class="col">
            <angular2-multiselect [data]="deviceNumList" [(ngModel)]="deviceNumSelected"
                                  (onSelect)="onDeviceNumSelected($event)"
                                  [settings]="deviceNumSettings">
              <c-item>
                <ng-template let-item="item">
                  <label style="min-width: 60%;">{{item.itemName}}</label>
                </ng-template>
              </c-item>
            </angular2-multiselect>
          </div>
        </div>

        <div class="row px-20 my-4" *ngIf="!isLabSelected||!isDeviceSelected">
          <!--输入设备名-->
          <div class="col">
            <div *ngIf="!isDeviceSelected">
              <label for="formDevice">请输入设备名</label>
              <input type="text" id="formDevice" class="form-control" [(ngModel)]="applyModel.deviceName">
            </div>
          </div>
          <!--输入实验室名-->
          <div class="col">
            <div *ngIf="!isLabSelected">
              <label for="formLab">请输入实验室名</label>
              <input type="text" id="formLab" class="form-control" [(ngModel)]="applyModel.labName">
            </div>
          </div>
        </div>

        <div class="row px-20 my-4">
          <!--导师-->
          <div class="col">
            <angular2-multiselect [data]="tutorList" [(ngModel)]="tutorSelected" (onSelect)="onTutorSelected($event)"
                                  [settings]="tutorSettings">
              <c-item>
                <ng-template let-item="item">
                  <label style="min-width: 60%;">{{item.itemName}}</label>
                </ng-template>
              </c-item>
            </angular2-multiselect>
          </div>
          <div class="col">
          </div>
        </div>


        <div class="row px-20">
          <!--开始时间-->
          <div class="col">
            <div class="md-form">
              <input type="date" id="formStart" class="form-control" [(ngModel)]="applyModel.startTime">
              <label for="formStart">开始时间</label>
            </div>
          </div>
          <!--结束时间-->
          <div class="col">
            <div class="md-form">
              <input type="date" id="formOver" class="form-control" [(ngModel)]="applyModel.overTime">
              <label for="formOver">开始时间</label>
            </div>
          </div>
        </div>
        <div class="row px-50">
          <!--备注-->
          <div class="col z-depth-1 my-4 ">
            <div class="md-form px">
              <mdb-icon fas icon="pencil-alt" class="prefix "></mdb-icon>
              <textarea type="text" id="form8" class="md-textarea form-control hight1" [(ngModel)]="applyModel.ps"
                        mdbInput
                        [formControl]="psFormControl"></textarea>
              <label for="form8">备注.....</label>
            </div>
          </div>
        </div>


        <!--        <div class="md-form">
                  <mdb-icon fas icon="key" class="prefix blue-text"></mdb-icon>
                  <input mdbInput type="password" id="form22" class="form-control" minlength="4" maxlength="16"
                         [(ngModel)]="oldPw">
                  <label for="form22">原始密码</label>
                  <mdb-error *ngIf="oldPw==''||oldPw.length<3" class="mt-0">请输入原密码</mdb-error>
                </div>

                <div class="md-form">
                  <mdb-icon fas icon="key" class="prefix blue-text"></mdb-icon>
                  <input mdbInput type="password" id="form2" class="form-control" minlength="4" maxlength="16"
                         [(ngModel)]="newPw">
                  <label for="form2">新密码(4-16个字符)</label>
                  <mdb-error *ngIf="newPw==''||newPw.length<4" class="mt-0">密码强度太低</mdb-error>
                </div>

                <div class="md-form">
                  <mdb-icon fas icon="key" class="prefix"></mdb-icon>
                  <input mdbInput type="password" id="form32" class="form-control" minlength="4" maxlength="16"
                         [(ngModel)]="newPw1">
                  <label for="form32">确认新密码</label>
                  <mdb-error *ngIf="!isSamePwd()" class="mt-0">两次输入密码不相同
                  </mdb-error>
                </div>-->
        <!-- Regular usage -->
        <!-- <re-captcha (resolved)="resolved($event)" siteKey="YOUR_SITE_KEY"></re-captcha> -->

        <div class="text-center">
          <button mdbBtn class="btn blue-gradient" mdbWavesEffect (click)="submit();">确定</button>
        </div>

      </mdb-card-body>

    </mdb-card>
    <!--Form with header-->
    <mdb-card>


    </mdb-card>
    <!--Form with header-->

  </div>
  <!--Grid column-->
</div>
<div mdbModal #failModal="mdbModal" class="modal fade" tabindex="-1" role="dialog"
     aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-notify modal-danger" role="document">
    <!--Content-->
    <div class="modal-content text-center">
      <!--Header-->
      <div class="modal-header d-flex justify-content-center">
        <p *ngIf="feedback==-1" class="heading">原密码输入错误！</p>
        <p *ngIf="feedback==0" class="heading">修改失败！</p>
        <p *ngIf="feedback==2" class="heading">意料之外的错误！</p>
      </div>
      <!--Footer-->
      <div class="modal-footer justify-content-center">
        <a type="button" mdbBtn color="danger" outline="true" class="waves-light" mdbWavesEffect data-dismiss="modal"
           (click)="failModal.hide()">确定</a>
      </div>
      <strong>若一直修改不了请联系管理员</strong>
    </div>
    <!--/.Content-->
  </div>
</div>
<div mdbModal #successModal="mdbModal" class="modal fade" tabindex="-1" role="dialog"
     aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-notify modal-success" role="document">
    <!--Content-->
    <div class="modal-content text-center">
      <!--Header-->
      <div class="modal-header d-flex justify-content-center">
        <p class="heading">修改成功，请重新登录！</p>
      </div>
      <!--Footer-->
      <div class="modal-footer justify-content-center">
        <a type="button" mdbBtn color="success" outline="true" class="waves-light" mdbWavesEffect data-dismiss="modal"
           (click)="successModal.hide();submit()">确定</a>
      </div>
    </div>
    <!--/.Content-->
  </div>
</div>
